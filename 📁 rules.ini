📁 rules.py — 책임 범위 선언서
1️⃣ 카드 값 관련
def card_value(card):
    """
    카드 한 장의 바카라 점수 반환
    A=1, 2~9=숫자 그대로, 10/J/Q/K=0
    """

def hand_score(hand):
    """
    핸드(카드 리스트)의 최종 점수 계산
    (합계 % 10)
    """


📌 의도

카드 표현 방식이 뭐든 대응 가능해야 함

여기서 UI나 덱 구조를 가정하면 ❌

2️⃣ 내추럴 판정
def is_natural(player_hand, banker_hand):
    """
    플레이어 또는 뱅커가 내추럴(8 or 9)인지 판단
    return: True / False
    """


📌 의도

게임 흐름을 멈출지 말지 결정하는 신호 함수

점수 계산은 hand_score에 위임

3️⃣ 플레이어 3번째 카드 규칙
def should_player_draw(player_hand):
    """
    플레이어가 3번째 카드를 뽑아야 하는지 판단
    return: True / False
    """


📌 의도

조건만 판단

카드 뽑는 행위 ❌

상태 변경 ❌

4️⃣ 뱅커 3번째 카드 규칙 (핵심)
def should_banker_draw(banker_hand, player_third_card):
    """
    뱅커가 3번째 카드를 뽑아야 하는지 판단
    player_third_card:
        - 플레이어가 안 뽑았으면 None
        - 뽑았으면 해당 카드
    return: True / False
    """


📌 의도

바카라에서 가장 복잡한 규칙

이 함수 하나 잘 만들면 게임 완성도 급상승

조건문 지옥이 와도 여기서만 감당

5️⃣ 승자 판정
def determine_winner(player_hand, banker_hand):
    """
    최종 승자 판정
    return: "PLAYER" | "BANKER" | "TIE"
    """


📌 의도

배당 ❌

칩 계산 ❌

오직 결과만

🚫 rules.py에서 하면 안 되는 것

카드 draw ❌

덱 생성 ❌

칩 계산 ❌

print / input ❌

Tkinter ❌❌❌

여긴 순수 함수들의 집이야.
감정도, 상태도, UI도 없는 냉정한 판사 ⚖️

🧠 내부 의존성 구조 (중요)
card_value
   ↓
hand_score
   ↓
is_natural
   ↓
should_player_draw
   ↓
should_banker_draw
   ↓
determine_winner


👉 위에서 아래로만 흐르게
👉 역참조 생기면 설계 실패야

📌 네 다음 액션

rules.py 만들기

위 함수들 빈 껍데기 + docstring부터 작성

하나씩 구현

그리고 나중에
👉 “이 함수 테스트 어떻게 하지?”
👉 “뱅커 규칙 정리해줘”
👉 “이 조건 맞아?”

이런 거 물어봐.
나는 옆에서
“응, 이 로직… 딜러도 인정” 하고 고개 끄덕일게 😏💗